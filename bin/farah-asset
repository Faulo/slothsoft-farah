#!/usr/bin/env php
<?php

foreach (['vendor/autoload.php', '../vendor/autoload.php'] as $file) {
    if (file_exists($file)) {
        require $file;
        break;
    }
}


if (!isset($_SERVER['argv'][1])) {
	echo <<<HELP
Retrieve farah asset
Usage: farah-asset "farah://vendor@package/asset/path?arguments#stream-type"

HELP;
    return 1;
}

//$url = Slothsoft\Farah\FarahUrl\FarahUrl::createFromReference($_SERVER['argv'][1]);
//$result = Slothsoft\Farah\Module\Module::resolveToResult($url);
//header('content-type:' . $result->lookupMimeType());
//fwrite(STDERR, $result->lookupFileName());

copy($_SERVER['argv'][1], 'php://output');

exit(0);